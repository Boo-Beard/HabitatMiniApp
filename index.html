<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Habitat Dock</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
<style>
  :root {
    --primary: #0EB466;
    --primary-dark: #0a8c4d;
    --primary-light: #1ae07d;
    --bg-dark: #0b1113;
    --bg-card: #081a10;
    --bg-card-light: #0d2a18;
    --text: #e6f5ee;
    --text-muted: #a0b8ac;
  }
  
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  
  body {
    font-family: 'Segoe UI', system-ui, sans-serif;
    background-color: var(--bg-dark);
    color: var(--text);
    padding: 16px;
    min-height: 100vh;
    overflow-x: hidden;
    position: relative;
    -webkit-tap-highlight-color: transparent;
  }
  
  .video-background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: -2;
    opacity: 0.6;
    filter: brightness(1) contrast(0.9);
  }
  
  .overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      45deg,
      rgba(11, 17, 19, 0.9) 0%,
      rgba(11, 17, 19, 0.7) 50%,
      rgba(11, 17, 19, 0.9) 100%
    );
    z-index: -1;
  }
  
  .container {
    max-width: 100%;
    margin: 0 auto;
    position: relative;
    z-index: 1;
  }
  
  header {
    text-align: center;
    margin-bottom: 24px;
    padding-top: 8px;
  }
  
  .logo-container {
    display: flex;
    justify-content: center;
    margin-bottom: 12px;
  }
  
  .logo {
    width: 70px;
    height: 70px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid var(--primary);
    box-shadow: 0 0 20px rgba(14, 180, 102, 0.3);
    transition: transform 0.5s ease;
    background: var(--bg-card);
  }
  
  .logo:hover {
    transform: scale(1.05);
  }
  
  h1 {
    font-size: 1.6rem;
    margin-bottom: 4px;
    background: linear-gradient(90deg, var(--primary), var(--primary-light));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    position: relative;
    display: inline-block;
  }

  .sol-icon{
    width:16px; 
    height:16px; 
    display:inline-block;
    background: var(--primary);
    -webkit-mask: url('https://unpkg.com/simple-icons/icons/solana.svg') no-repeat center / contain;
    mask: url('https://unpkg.com/simple-icons/icons/solana.svg') no-repeat center / contain;
  }

  h1::after {
    content: '';
    position: absolute;
    bottom: -4px;
    left: 0;
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg, transparent, var(--primary), transparent);
    opacity: 0.7;
  }
  
  .subtitle {
    color: var(--text-muted);
    font-size: 0.85rem;
    line-height: 1.4;
    margin-bottom: 4px;
  }
  
  .mission-text {
    font-style: italic;
    margin-top: 8px;
    color: var(--text-muted);
    font-size: 0.8rem;
    position: relative;
    padding: 8px 12px;
    border-radius: 8px;
    background: rgba(14, 180, 102, 0.05);
    border-left: 3px solid var(--primary);
    line-height: 1.3;
  }
  
  .stats-card {
    background: linear-gradient(145deg, var(--bg-card), var(--bg-card-light));
    border: 1px solid rgba(14, 180, 102, 0.2);
    box-shadow: 0 0 20px rgba(14, 180, 102, 0.1);
    padding: 16px;
    border-radius: 14px;
    margin-bottom: 20px;
    position: relative;
    overflow: hidden;
    backdrop-filter: blur(10px);
  }
  
  .stats-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--primary), transparent);
  }
  
  .stats-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 12px;
  }
  
  .stats-title {
    display: flex;
    align-items: center;
    font-size: 1.1rem;
    font-weight: 600;
  }
  
  .stats-title i {
    font-size: 1.3rem;
    color: var(--primary);
    margin-right: 8px;
  }
  
  .stats-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    margin-bottom: 12px;
  }
  
  .stat {
    background: rgba(0, 0, 0, 0.2);
    padding: 10px 8px;
    border-radius: 10px;
    text-align: center;
    position: relative;
    overflow: hidden;
    backdrop-filter: blur(5px);
    min-height: 65px;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }
  
  .stat-value {
    font-size: 0.95rem;
    font-weight: bold;
    color: var(--primary);
    margin-bottom: 4px;
    line-height: 1.2;
    word-break: break-word;
  }
  
  .stat-label {
    font-size: 0.75rem;
    color: var(--text-muted);
    line-height: 1.2;
  }
  
  .sol-price-badge {
    display: flex;
    align-items: center;
    gap: 6px;
    background: rgba(14, 180, 102, 0.1);
    border: 1px solid rgba(14, 180, 102, 0.3);
    color: var(--primary);
    padding: 6px 10px;
    border-radius: 8px;
    font-size: 0.85rem;
    font-weight: 500;
    backdrop-filter: blur(6px);
  }

  .sol-price-badge .sol-icon {
    width: 14px;
    height: 14px;
  }

  .copy-ca-btn {
    margin-left: 8px;
    padding: 4px 8px;
    font-size: 0.75rem;
    border-radius: 5px;
    background: rgba(14, 180, 102, 0.08);
    border: 1px solid rgba(14, 180, 102, 0.25);
    color: var(--primary);
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .copy-ca-btn i {
    font-size: 0.8rem;
    margin-right: 4px;
  }

  .copy-ca-btn:hover {
    background: rgba(14, 180, 102, 0.15);
    border-color: var(--primary);
    transform: translateY(-1px);
  }

  .price-stat {
    position: relative;
    overflow: hidden;
  }

  #priceTrend {
    position: absolute;
    bottom: 8px;
    left: 0;
    width: 100%;
    height: 50px;
    opacity: 0.25;
    z-index: 0;
  }

  .price-stat .stat-value {
    position: relative;
    z-index: 1;
  }

  .refresh-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 8px;
    flex-wrap: wrap;
    gap: 6px;
  }

  .refresh-btn {
    background: rgba(14, 180, 102, 0.1);
    border: 1px solid rgba(14, 180, 102, 0.3);
    color: var(--primary);
    padding: 6px 10px;
    border-radius: 6px;
    font-size: 0.75rem;
    cursor: pointer;
    transition: all 0.3s ease;
    backdrop-filter: blur(5px);
    display: flex;
    align-items: center;
    gap: 4px;
    flex-shrink: 0;
  }

  .refresh-container .last-updated {
    flex: 1;
    text-align: left;
    font-size: 0.65rem;
    color: var(--text-muted);
  }

  .trade-btn {
    background: var(--primary);
    color: var(--bg-dark);
    border: none;
    padding: 12px 16px;
    font-size: 0.9rem;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 600;
    text-decoration: none;
    text-align: center;
    margin-bottom: 16px;
    width: 100%;
  }

  .trade-btn:hover {
    background: var(--primary-dark);
    box-shadow: 0 0 20px rgba(14, 180, 102, 0.4);
    transform: translateY(-2px);
  }

  .trade-btn i {
    margin-right: 6px;
    font-size: 1rem;
  }

  .action-buttons {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    margin-bottom: 16px;
  }

  .action-buttons .row {
    display: flex;
    justify-content: center;
    gap: 12px;
    width: 100%;
  }

  .action-btn {
    background: transparent;
    border: 1px solid rgba(14, 180, 102, 0.3);
    color: var(--primary);
    padding: 12px 16px;
    font-size: 0.9rem;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;
    text-decoration: none;
    text-align: center;
    width: 100%;
    max-width: 180px;
  }

  .action-btn i {
    margin-right: 6px;
    font-size: 1rem;
  }

  .action-btn:hover {
    background: rgba(14, 180, 102, 0.1);
    border-color: var(--primary);
    transform: translateY(-2px);
  }

  .articles-section {
    background: linear-gradient(145deg, var(--bg-card), var(--bg-card-light));
    border: 1px solid rgba(14, 180, 102, 0.2);
    border-radius: 14px;
    box-shadow: 0 0 20px rgba(14, 180, 102, 0.1);
    padding: 16px;
    margin-bottom: 16px;
    display: none;
    animation: slideDown 0.4s ease-out;
    backdrop-filter: blur(10px);
  }

  .articles-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 10px;
  }

  .article-link {
    display: flex;
    align-items: center;
    gap: 10px;
    color: var(--text);
    text-decoration: none;
    background: rgba(14, 180, 102, 0.05);
    padding: 10px 12px;
    border-radius: 8px;
    border: 1px solid rgba(14, 180, 102, 0.1);
    transition: all 0.3s ease;
    font-size: 0.9rem;
  }

  .article-link i {
    color: var(--primary);
    font-size: 1rem;
  }

  .article-link:hover {
    background: rgba(14, 180, 102, 0.15);
    border-color: rgba(14, 180, 102, 0.3);
    transform: translateY(-2px);
    color: var(--primary);
  }

  .contact-btn {
    background: transparent;
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: var(--text-muted);
    padding: 12px 20px;
    font-size: 0.9rem;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 20px;
    cursor: pointer;
    transition: all 0.3s ease;
    width: 100%;
    font-weight: 500;
  }

  .contact-btn:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(255, 255, 255, 0.3);
    color: var(--text);
    transform: translateY(-1px);
  }

  .contact-btn i {
    margin-right: 8px;
    font-size: 1rem;
  }

  .contact-section {
    background: linear-gradient(145deg, var(--bg-card), var(--bg-card-light));
    border: 1px solid rgba(14, 180, 102, 0.2);
    box-shadow: 0 0 20px rgba(14, 180, 102, 0.1);
    padding: 20px;
    border-radius: 14px;
    margin-top: 16px;
    display: none;
    animation: slideDown 0.5s ease-out;
    backdrop-filter: blur(10px);
  }

  .contact-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, var(--primary), transparent);
  }

  @keyframes slideDown {
    from { opacity: 0; transform: translateY(-16px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .contact-header {
    display: flex;
    align-items: center;
    margin-bottom: 16px;
  }

  .contact-header i {
    font-size: 1.3rem;
    color: var(--primary);
    margin-right: 8px;
  }

  .form-group {
    margin-bottom: 16px;
  }

  label {
    display: block;
    margin-bottom: 6px;
    font-weight: 600;
    color: var(--text-muted);
    font-size: 0.9rem;
  }

  select, textarea, input[type="text"], input[type="email"] {
    width: 100%;
    padding: 12px;
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    background: rgba(14, 180, 102, 0.1);
    color: var(--text);
    font-size: 0.95rem;
    transition: all 0.3s ease;
    backdrop-filter: blur(5px);
  }

  input[type="text"]:focus, input[type="email"]:focus, select:focus, textarea:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 2px rgba(14, 180, 102, 0.2);
    background: rgba(14, 180, 102, 0.15);
  }

  select {
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%230EB466' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right 12px center;
    background-size: 14px;
  }

  select option {
    background: var(--bg-card-light);
    color: var(--text);
    padding: 10px;
  }

  textarea {
    resize: vertical;
    min-height: 100px;
  }

  .submit-btn {
    background: var(--primary);
    color: var(--bg-dark);
    border: none;
    padding: 14px;
    font-size: 1rem;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    width: 100%;
    font-weight: 600;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .submit-btn:hover {
    background: var(--primary-dark);
    box-shadow: 0 0 20px rgba(14, 180, 102, 0.4);
    transform: translateY(-2px);
  }

  .footer {
    text-align: center;
    margin-top: 24px;
    color: var(--text-muted);
    font-size: 0.75rem;
    position: relative;
  }

  .footer::before {
    content: '';
    position: absolute;
    top: -12px;
    left: 50%;
    transform: translateX(-50%);
    width: 80%;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(14, 180, 102, 0.3), transparent);
  }

  .social-links {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-top: 12px;
    flex-wrap: wrap;
  }

  .social-link {
    color: var(--text-muted);
    font-size: 1.1rem;
    transition: all 0.3s ease;
    width: 34px;
    height: 34px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(14, 180, 102, 0.1);
    text-decoration: none;
  }

  .social-link:hover {
    color: var(--primary);
    background: rgba(14, 180, 102, 0.2);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(14, 180, 102, 0.2);
  }

  .notification {
    position: fixed;
    bottom: 16px;
    right: 16px;
    background: var(--bg-card);
    border-left: 4px solid var(--primary);
    padding: 12px;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    display: none;
    z-index: 1000;
    max-width: 280px;
    animation: slideInRight 0.5s ease-out;
    backdrop-filter: blur(10px);
    font-size: 0.9rem;
  }

  .notification.show {
    display: block;
  }

  @keyframes slideInRight {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }

  .telegram-highlight {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    background: linear-gradient(135deg, #2AABEE, #2291D9);
    border: 1px solid rgba(34, 158, 217, 0.5);
    color: #fff;
    padding: 3px 10px;
    border-radius: 6px;
    font-size: 0.8rem;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.3s ease;
    box-shadow: 0 0 10px rgba(34, 158, 217, 0.3);
  }

  .telegram-highlight:hover {
    background: linear-gradient(135deg, #2291D9, #2AABEE);
    box-shadow: 0 0 14px rgba(34, 158, 217, 0.5);
    transform: translateY(-1px);
  }

  .version {
    display: block;
    margin-top: 4px;
    font-size: 0.7rem;
    opacity: 0.7;
  }

  @media (max-width: 380px) {
    body {
      padding: 12px;
    }
    
    .stats-grid {
      grid-template-columns: 1fr;
      gap: 10px;
    }
    
    .action-buttons .row {
      flex-direction: column;
      align-items: center;
    }
    
    .action-btn {
      max-width: 100%;
    }
    
    .stat {
      padding: 8px 6px;
      min-height: 60px;
    }
    
    .stat-value {
      font-size: 0.9rem;
    }
    
    .stat-label {
      font-size: 0.7rem;
    }
    
    h1 {
      font-size: 1.4rem;
    }
    
    .mission-text {
      font-size: 0.75rem;
      padding: 6px 10px;
    }
    
    .refresh-container {
      flex-direction: column;
      gap: 8px;
      align-items: stretch;
    }
    
    .last-updated {
      text-align: center;
    }
    
    .social-links {
      gap: 8px;
    }
    
    .social-link {
      width: 32px;
      height: 32px;
      font-size: 1rem;
    }
  }

  @media (min-width: 500px) {
    .container {
      max-width: 450px;
    }
  }
</style>
</head>
<body>
  <!-- Video Background (auto-disabled for prefers-reduced-motion users) -->
  <video class="video-background" autoplay muted loop playsinline aria-hidden="true">
    <source src="https://framerusercontent.com/assets/UreOLyZkP4VdWf5ix2VEYeEMms.mp4" type="video/mp4">
  </video>
  <div class="overlay"></div>

  <main class="container" role="main">
    <header>
      <div class="logo-container">
        <img src="https://i.ibb.co/0pbP6s1J/habitat-logo.jpg"
             alt="Habitat Protocol logo"
             class="logo"
             width="70"
             height="70" />
      </div>
      <h1>Habitat Dock</h1>
      <p class="subtitle">All Things Habitat, in One Place</p>
      <p class="mission-text">Habitat transforms excess renewable energy into intelligent computing infrastructures</p>
    </header>

    <!-- Stats Section -->
    <section class="stats-card" aria-labelledby="stats-title">
      <div class="stats-header">
        <h2 id="stats-title" class="stats-title">
          <i class="fas fa-chart-line" aria-hidden="true"></i> Habitat
        </h2>
        <div class="sol-price-badge" aria-label="Solana price">
          <span class="sol-icon" aria-hidden="true"></span>
          <span id="solPrice">—</span>
        </div>
      </div>

      <div class="stats-grid">
        <div class="stat price-stat">
          <canvas id="priceTrend" aria-hidden="true" width="300" height="50"></canvas>
          <div class="stat-value" id="price">Loading...</div>
          <div class="stat-label">Current Price</div>
        </div>

        <div class="stat">
          <div class="stat-value" id="mcap">Loading...</div>
          <div class="stat-label">Market Cap</div>
        </div>

        <div class="stat">
          <div class="stat-value" id="volume">—</div>
          <div class="stat-label">24h Volume</div>
        </div>

        <div class="stat">
          <div class="stat-value" id="change">—</div>
          <div class="stat-label">24h Change</div>
        </div>

        <div class="stat">
          <div class="stat-value" id="holderCount">Loading...</div>
          <div class="stat-label">Total Holders</div>
        </div>

        <div class="stat">
          <div class="stat-value">
            <a href="https://solscan.io/token/2Bwbeh361ywi1PpypDHabDb8VphNKCQt9ht2CRzFsYAE"
               style="color:var(--primary);text-decoration:none;display:flex;align-items:center;justify-content:center;gap:6px;">
              <span class="sol-icon" aria-hidden="true"></span>
              <span>Solana <i class="fa-solid fa-arrow-up-right-from-square" style="font-size:0.7rem;opacity:0.7;"></i></span>
            </a>
          </div>
          <div class="stat-label">Chain</div>
        </div>
      </div>

      <div class="refresh-container">
        <div class="last-updated" id="lastUpdated">Last updated: -</div>
        <div class="controls">
          <button class="copy-ca-btn" id="copyCA" title="Copy Contract Address" type="button">
            <i class="fa-regular fa-copy" aria-hidden="true"></i>
            <span class="visually-hidden">Copy contract address</span>
          </button>
          <button class="refresh-btn" id="refreshStats" type="button">
            <i class="fas fa-sync-alt"></i> Refresh
          </button>
        </div>
      </div>
    </section>

    <!-- Trade Button -->
    <a href="https://raydium.io/swap/?inputMint=2Bwbeh361ywi1PpypDHabDb8VphNKCQt9ht2CRzFsYAE"
       class="trade-btn"
       target="_blank" rel="noopener noreferrer">
      <i class="fas fa-exchange-alt"></i> Trade Habitat
    </a>

    <!-- Action Buttons -->
    <nav class="action-buttons" aria-label="Quick Links">
      <div class="row">
        <a href="https://docs.habitatprotocol.com/" class="action-btn" target="_blank" rel="noopener noreferrer">
          <i class="fas fa-book"></i> Docs
        </a>
        <a href="https://dexscreener.com/solana/2Bwbeh361ywi1PpypDHabDb8VphNKCQt9ht2CRzFsYAE"
           class="action-btn" target="_blank" rel="noopener noreferrer">
          <i class="fa-solid fa-chart-area"></i> Chart
        </a>
      </div>
      <div class="row center">
        <button class="action-btn" id="articlesBtn" type="button">
          <i class="fa-solid fa-newspaper"></i> Articles
        </button>
      </div>
    </nav>

    <!-- Articles -->
    <section class="articles-section" id="articlesSection" hidden>
      <div class="stats-header">
        <div class="stats-title">
          <i class="fa-solid fa-newspaper"></i>
          <span>Latest Articles</span>
        </div>
      </div>
      <div class="articles-list">
        <a href="https://x.com/Pirateshredder/status/1978501388947574968"
           class="article-link" target="_blank" rel="noopener noreferrer">
          <i class="fa-brands fa-x-twitter"></i> Engineering curtailment into compute
        </a>
        <a href="https://medium.com/@habitatfoundation/from-sunlight-to-intelligence-the-habitat-vision-eedca170fcce"
           class="article-link" target="_blank" rel="noopener noreferrer">
          <i class="fa-brands fa-medium"></i> From Sunlight to Intelligence — The Habitat Vision
        </a>
        <a href="https://x.com/Pirateshredder/status/1970210372285276662"
           class="article-link" target="_blank" rel="noopener noreferrer">
          <i class="fa-brands fa-x-twitter"></i> Turning stranded solar energy & modular data centers into profitable GPU hours
        </a>
        <a href="https://x.com/Pirateshredder/status/1967994549915291815"
           class="article-link" target="_blank" rel="noopener noreferrer">
          <i class="fa-brands fa-x-twitter"></i> Infrastructure, Rebuilt: Why Web3 Needs Its Own Industrial Base
        </a>
      </div>
    </section>

    <!-- Contact Button -->
    <button class="contact-btn" id="contactBtn" type="button">
      <i class="fa-solid fa-envelope"></i> Contact Us
    </button>

    <!-- Contact Form -->
    <section class="contact-section" id="contactSection" hidden>
      <div class="contact-header">
        <i class="fas fa-headset"></i>
        <h2>Get In Touch</h2>
      </div>
      <form id="contactForm" novalidate>
        <div class="form-group">
          <label for="name">Your Name</label>
          <input type="text" id="name" placeholder="Name" required>
        </div>
        <div class="form-group">
          <label for="topic">Topic</label>
          <select id="topic" required>
            <option value="General">General</option>
            <option value="Partnership">Partnership</option>
            <option value="Solar Investor Solutions">Solar Investor Solutions</option>
            <option value="Hardware Relocation">Hardware Relocation</option>
            <option value="Network Operations">Network Operations</option>
            <option value="Compute Buyer">Compute Buyer</option>
            <option value="Enterprise Compute">Enterprise Compute</option>
          </select>
        </div>
        <div class="form-group">
          <label for="telegramId">Telegram ID</label>
          <input type="text" id="telegramId" placeholder="@username" required>
        </div>
        <div class="form-group">
          <label for="email">Email Address</label>
          <input type="email" id="email" placeholder="your@email.com" required>
        </div>
        <div class="form-group">
          <label for="message">Your Message</label>
          <textarea id="message" placeholder="Have a project, question, or partnership in mind?" required></textarea>
          <p class="help-text">
            💬 For quicker support, join our
            <a href="https://t.co/FDpS2bxL5j" target="_blank" rel="noopener noreferrer">Discord</a>.
          </p>
        </div>
        <button class="submit-btn" id="submit" type="submit">Submit</button>
      </form>
    </section>

    <!-- Footer -->
    <footer class="footer" role="contentinfo">
      <p>
        Powered by
        <a href="https://www.tokendock.io/" target="_blank" rel="noopener noreferrer" class="telegram-highlight">
          Token Dock
          <i class="fa-solid fa-arrow-up-right-from-square small-icon"></i>
        </a>
      </p>
      <span class="version">Version 1.2.3</span>
      <div class="social-links">
        <a href="https://x.com/HabitatProtocol" class="social-link" target="_blank" rel="noopener noreferrer">
          <i class="fa-brands fa-x-twitter"></i>
        </a>
        <a href="https://www.linkedin.com/company/habitat-foundation" class="social-link" target="_blank" rel="noopener noreferrer">
          <i class="fab fa-linkedin-in"></i>
        </a>
        <a href="https://t.co/FDpS2bxL5j" class="social-link" target="_blank" rel="noopener noreferrer">
          <i class="fab fa-discord"></i>
        </a>
        <a href="https://t.co/SS67LbLmLk" class="social-link" target="_blank" rel="noopener noreferrer">
          <i class="fab fa-telegram"></i>
        </a>
        <a href="https://www.habitatprotocol.com/" class="social-link" target="_blank" rel="noopener noreferrer">
          <i class="fa-solid fa-desktop"></i>
        </a>
        <a href="https://medium.com/@habitatfoundation" class="social-link" target="_blank" rel="noopener noreferrer">
          <i class="fa-brands fa-medium"></i>
        </a>
      </div>
    </footer>
  </main>

  <!-- Notification -->
  <div class="notification" id="notification" role="alert" aria-live="polite">
    <p>Your form has been submitted! Somebody from the Habitat Protocol team will be in touch shortly.</p>
  </div>

  <script>
    // === Improved JS ===
    document.addEventListener('DOMContentLoaded', () => {
      const body = document.body;
      const articlesBtn = document.getElementById('articlesBtn');
      const articlesSection = document.getElementById('articlesSection');
      const contactBtn = document.getElementById('contactBtn');
      const contactSection = document.getElementById('contactSection');
      const copyBtn = document.getElementById('copyCA');
      const refreshBtn = document.getElementById('refreshStats');
      const telegramInput = document.getElementById('telegramId');
      const form = document.getElementById('contactForm');
      const notification = document.getElementById('notification');

      const toggleSection = (btn, section, openText, closeText) => {
        const isHidden = section.hasAttribute('hidden');
        if (isHidden) {
          section.removeAttribute('hidden');
          btn.innerHTML = closeText;
          section.scrollIntoView({ behavior: 'smooth', block: 'start' });
        } else {
          section.setAttribute('hidden', '');
          btn.innerHTML = openText;
        }
      };

      // Articles Toggle
      articlesBtn.addEventListener('click', () => {
        toggleSection(
          articlesBtn,
          articlesSection,
          '<i class="fa-solid fa-newspaper"></i> Articles',
          '<i class="fa-solid fa-xmark"></i> Close Articles'
        );
      });

      // Contact Toggle
      contactBtn.addEventListener('click', () => {
        toggleSection(
          contactBtn,
          contactSection,
          '<i class="fa-solid fa-envelope"></i> Contact Us',
          '<i class="fa-solid fa-xmark"></i> Close Form'
        );
      });

      // Auto '@' for Telegram
      telegramInput.addEventListener('input', () => {
        if (!telegramInput.value.startsWith('@')) {
          telegramInput.value = '@' + telegramInput.value.replace(/^@+/, '');
        }
      });

      // Copy Contract
      copyBtn.addEventListener('click', async () => {
        const contractAddress = "2Bwbeh361ywi1PpypDHabDb8VphNKCQt9ht2CRzFsYAE";
        try {
          await navigator.clipboard.writeText(contractAddress);
          copyBtn.innerHTML = '<i class="fa-solid fa-check"></i> Copied';
          setTimeout(() => {
            copyBtn.innerHTML = '<i class="fa-regular fa-copy"></i>';
          }, 1500);
        } catch {
          showNotification("⚠️ Failed to copy address.");
        }
      });

      // Refresh Stats
      refreshBtn.addEventListener('click', async () => {
        refreshBtn.innerHTML = `<i class="fas fa-circle-notch fa-spin"></i> Refreshing...`;
        await loadHabitatStats();
        setTimeout(() => {
          refreshBtn.innerHTML = `<i class="fas fa-sync-alt"></i> Refresh`;
        }, 500);
      });

      // Show notification helper
      function showNotification(msg, duration = 2500) {
        notification.querySelector('p').innerHTML = msg;
        notification.classList.add('show');
        setTimeout(() => notification.classList.remove('show'), duration);
      }

      // Handle Form Submit
      form.addEventListener('submit', async e => {
        e.preventDefault();
        const data = Object.fromEntries(new FormData(form).entries());
        const { name, topic, telegramId, email, message } = data;

        if (!name || !topic || !telegramId || !email || !message) {
          showNotification("⚠️ Please complete all fields before submitting.");
          return;
        }

        if (!telegramId.startsWith('@')) {
          showNotification("⚠️ Please enter a valid Telegram username (e.g. @HabitatUser).");
          return;
        }

        if (!/\S+@\S+\.\S+/.test(email)) {
          showNotification("⚠️ Please enter a valid email address.");
          return;
        }

        try {
          await fetch("https://flowxo.com/hooks/a/x2gm2j5y", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data)
          });
          showNotification("✅ Your form has been submitted! Someone from the Habitat team will reach out soon.");
          form.reset();
          setTimeout(() => contactSection.setAttribute('hidden', ''), 1500);
        } catch {
          showNotification("⚠️ Error sending message. Please try again later.");
        }
      });

      // Stats load
      loadHabitatStats();
    });
  </script>

  <style>
    @media (prefers-reduced-motion: reduce) {
      .video-background { display: none; }
    }
    .visually-hidden {
      position: absolute;
      clip: rect(0 0 0 0);
      clip-path: inset(50%);
      height: 1px;
      width: 1px;
      overflow: hidden;
      white-space: nowrap;
    }
    .small-icon { font-size: 0.7rem; opacity: 0.7; }
    .help-text a { color: var(--primary); text-decoration: underline; }
  </style>
</body>
